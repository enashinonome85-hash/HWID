<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>VerificaciÃ³n de HWID y UUID</title>

<style>
:root {
    --bg-overlay: rgba(255, 255, 255, 0.15);
    --panel-bg: rgba(255, 255, 255, 0.95);
    --text-color: #111;
    --header-bg: rgba(52,152,219,0.2);
    --fila-alternativa: rgba(0,0,0,0.05);
}
body.dark {
    --bg-overlay: rgba(0,0,0,0.45);
    --panel-bg: rgba(0,0,0,0.8);
    --text-color: #fff;
    --header-bg: rgba(52,152,219,0.4);
    --fila-alternativa: rgba(255,255,255,0.05);
}

body {
    font-family: Arial, sans-serif;
    margin: 20px;
    color: var(--text-color);
    text-align: center;
    background-image: url('20240731_073957.jpg');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
}

/* Inputs y botones */
input, select {
    padding: 10px;
    width: 90%;
    max-width: 300px;
    font-size: 16px;
    border-radius: 8px;
    border: none;
    outline: none;
    background: var(--panel-bg);
    color: var(--text-color);
    margin: 6px 0;
}

button {
    padding: 10px 18px;
    font-size: 16px;
    margin-top: 10px;
    cursor: pointer;
    border-radius: 8px;
    border: none;
    background: #2980b9;
    color: white;
    font-weight: bold;
    transition: .2s;
}
button:hover { background: #3498db; }

/* Caja flotante */
.caja-flotante {
    width: 90%;
    max-width: 480px;
    background: var(--panel-bg);
    padding: 20px;
    border-radius: 15px;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.7);
    display: none;
    color: var(--text-color);
    backdrop-filter: blur(6px);
    box-shadow: 0px 0px 20px #000;
    opacity: 0;
    transition: opacity .3s ease, transform .3s ease;
    z-index: 9999;
    max-height: 80vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}
.caja-flotante.visible { display: flex; opacity: 1; transform: translate(-50%, -50%) scale(1); }

.closeBtn {
    background: #c0392b;
    border: none;
    padding: 6px 14px;
    border-radius: 6px;
    color: white;
    font-weight: bold;
    cursor: pointer;
    position: absolute;
    top: 12px;
    right: 12px;
}

/* Tabla y lista */
.lista-scroll {
    overflow-y: auto;
    overflow-x: auto;
    margin-top: 10px;
    flex: 1;
}

.tabla { display: flex; flex-direction: column; width: 100%; }
.fila { display: flex; }
.columna {
    flex: 1;
    min-width: 150px;
    padding: 8px;
    border-bottom: 1px solid rgba(0,0,0,0.2);
    word-break: break-word;
    text-align: center;
}
.fila:nth-child(even) .columna { background: var(--fila-alternativa); }
.encabezado .columna { font-weight: bold; background: var(--header-bg); }

/* Botones eliminar */
.delBtn {
    background-color: red;
    color: white;
    border: none;
    padding: 4px 8px;
    font-size: 12px;
    cursor: pointer;
    border-radius: 4px;
    display: block;
    margin: 5px auto 0;
}

/* Scroll en dispositivos mÃ³viles */
@media (max-width: 600px) {
    input, select, button { width: 95%; font-size: 14px; }
    .columna { min-width: 120px; padding: 6px; font-size: 14px; }
}
</style>
</head>
<body>

<h1>VerificaciÃ³n de HWID y UUID</h1>

<!-- SecciÃ³n de verificaciÃ³n -->
<h2>ðŸ”Ž Verificar HWID / UUID</h2>
<input id="codigoVerificar" placeholder="Ingresa HWID o UUID" />
<br />
<label for="columnaSeleccion">Selecciona columna:</label>
<select id="columnaSeleccion"></select>
<br />
<button onclick="verificar()">Verificar</button>
<div id="resultado" style="margin-top:10px;"></div>

<hr />

<!-- Agregar HWID -->
<h2>ðŸ“Œ Agregar HWID / UUID</h2>
<input id="inputAgregarDirecto" placeholder="Ingresa HWID/UUID" />
<br />
<label for="columnaAgregarDirecto">Selecciona columna:</label>
<select id="columnaAgregarDirecto"></select>
<br />
<button onclick="agregarDirecto()">Agregar</button>
<div id="resultadoAgregar" style="margin-top:6px;"></div>
<br />
<button onclick="abrirAgregar()">Agregar con caja flotante</button>

<!-- Caja flotante agregar -->
<div id="cajaAgregar" class="caja-flotante">
    <button class="closeBtn" onclick="cerrarAgregar()">X</button>
    <h3>Agregar HWID / UUID</h3>
    <input id="inputAgregar" placeholder="Ingresa HWID/UUID" />
    <label for="columnaAgregar">Selecciona columna:</label>
    <select id="columnaAgregar"></select>
    <button onclick="agregarAHWID()">Agregar</button>
</div>

<!-- BotÃ³n para mostrar lista -->
<button id="toggleBtn" onclick="toggleLista()">Mostrar lista</button>
<br />
<label for="columnaFiltro">Filtrar columna:</label>
<select id="columnaFiltro" onchange="actualizarListaFiltrada()"></select>

<!-- Caja flotante lista -->
<div id="listaFlotante" class="caja-flotante">
    <button class="closeBtn" onclick="toggleLista()">X</button>
    <div id="lista" class="lista-scroll">
        <div class="tabla">
            <div class="fila encabezado" id="encabezadoColumnas"></div>
            <div id="filasHWID"></div>
        </div>
    </div>
</div>

<script>
// Datos y configuraciÃ³n
const CONTRASENA = "torneo2025";
let codigos = JSON.parse(localStorage.getItem("codigosGuardados")) || [];
const nombresColumnas = [
    "STELLARA","DINGOS GHOST",":STEAMDANCE:","4LOV","LAS MALCRIADAS","ANGELS APOCALYPTIC",
    "Las OhÃ±o","Woosh Girls","Blackyard Queens","BELLATRIX","PANDORA'S HORDE",
    "Super Stars","The show girls","D' la rose","Las Quecas","HOA","Los Trabas","Infinity Girls"
];

// Helpers
function escapeHtml(text) {
    return text.replace(/[&<>"']/g, c => ({ "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;" }[c]));
}

// Rellenar selects
const selector = document.getElementById("columnaSeleccion");
const selectorAgregar = document.getElementById("columnaAgregar");
const selectorAgregarDirecto = document.getElementById("columnaAgregarDirecto");
const columnaFiltro = document.getElementById("columnaFiltro");

nombresColumnas.forEach((nombre,index)=>{
    [selector, selectorAgregar, selectorAgregarDirecto, columnaFiltro].forEach(sel=>{
        const opt = document.createElement("option");
        opt.value = index;
        opt.textContent = nombre;
        sel.appendChild(opt);
    });
});

// Encabezado
const encabezadoDiv = document.getElementById("encabezadoColumnas");
encabezadoDiv.innerHTML = "";
nombresColumnas.forEach(nombre=>{
    const col = document.createElement("div");
    col.className = "columna";
    col.textContent = nombre;
    encabezadoDiv.appendChild(col);
});

// Funciones caja flotante
function abrirAgregar(){document.getElementById("cajaAgregar").classList.add("visible");}
function cerrarAgregar(){document.getElementById("cajaAgregar").classList.remove("visible");}
let listaVisible = false;
function toggleLista(){
    listaVisible = !listaVisible;
    document.getElementById("listaFlotante").classList.toggle("visible", listaVisible);
    document.getElementById("toggleBtn").textContent = listaVisible ? "Lista abierta" : "Mostrar lista";
}

// Comprobar HWID duplicado
function existeHWID(valor){return codigos.includes(valor);}

// Agregar en columna
function agregarEnColumna(valor, colIndex){
    const resultadoAgregarDiv = document.getElementById("resultadoAgregar");
    resultadoAgregarDiv.textContent = "";
    if(existeHWID(valor)){
        resultadoAgregarDiv.textContent = "âœ˜ Este HWID/UUID ya estÃ¡ registrado.";
        resultadoAgregarDiv.style.color="red"; return false;
    }
    const numCols = nombresColumnas.length;
    const totalFilas = Math.ceil(codigos.length/numCols);
    let nuevaLista = codigos.slice();
    let insertIndex=-1;
    for(let fila=0; fila<totalFilas; fila++){
        const idx = fila*numCols + colIndex;
        if(idx>=nuevaLista.length || nuevaLista[idx]==="" || nuevaLista[idx]===undefined){insertIndex=idx; break;}
    }
    if(insertIndex===-1) insertIndex=totalFilas*numCols + colIndex;
    while(nuevaLista.length<insertIndex) nuevaLista.push("");
    nuevaLista[insertIndex]=valor;
    codigos = nuevaLista;
    localStorage.setItem("codigosGuardados", JSON.stringify(codigos));
    actualizarListaFiltrada();
    resultadoAgregarDiv.textContent="âœ” HWID/UUID agregado correctamente.";
    resultadoAgregarDiv.style.color="lime";
    return true;
}

// Agregar
function agregarAHWID(){
    const valor=document.getElementById("inputAgregar").value.trim();
    const colIndex=parseInt(document.getElementById("columnaAgregar").value);
    if(!valor){alert("HWID/UUID vacÃ­o"); return;}
    if(agregarEnColumna(valor,colIndex)){document.getElementById("inputAgregar").value=""; cerrarAgregar();}
}

function agregarDirecto(){
    const valor=document.getElementById("inputAgregarDirecto").value.trim();
    const colIndex=parseInt(document.getElementById("columnaAgregarDirecto").value);
    if(!valor){alert("HWID/UUID vacÃ­o"); return;}
    if(agregarEnColumna(valor,colIndex)){document.getElementById("inputAgregarDirecto").value="";}
}

// Eliminar
function eliminarCodigo(i){
    const input=prompt("Ingrese la contraseÃ±a para eliminar este HWID/UUID:");
    if(input===null) return;
    if(input!==CONTRASENA){alert("ContraseÃ±a incorrecta"); return;}
    codigos[i]="";
    localStorage.setItem("codigosGuardados", JSON.stringify(codigos));
    actualizarListaFiltrada();
}

// Actualizar lista filtrada
function actualizarListaFiltrada(){
    const colIndex=parseInt(columnaFiltro.value);
    const filasDiv=document.getElementById("filasHWID");
    filasDiv.innerHTML="";
    for(let i=colIndex;i<codigos.length;i+=nombresColumnas.length){
        const fila=document.createElement("div");
        fila.className="fila";
        const col=document.createElement("div");
        col.className="columna";
        col.style.borderBottom="1px solid rgba(0,0,0,0.3)";
        col.style.padding="8px";
        col.innerHTML=escapeHtml(codigos[i]) + (codigos[i]? `<button class="delBtn" onclick="eliminarCodigo(${i})">Eliminar</button>`:"");
        fila.appendChild(col);
        filasDiv.appendChild(fila);
    }
}

// Inicializamos
actualizarListaFiltrada();

// Verificar HWID
function verificar(){
    const c=document.getElementById("codigoVerificar").value.trim();
    const r=document.getElementById("resultado");
    const colIndex=parseInt(document.getElementById("columnaSeleccion").value);
    const colHWIDs=codigos.filter((_,i)=>i%nombresColumnas.length===colIndex);
    if(colHWIDs.includes(c)){r.textContent=`âœ” Correcto: HWID/UUID verificado en ${nombresColumnas[colIndex]}`; r.style.color="lime";}
    else{r.textContent=`âœ˜ Incorrecto: no se encontrÃ³ en ${nombresColumnas[colIndex]}`; r.style.color="red";}
}

// Toggle tema
function toggleTema(){
    document.body.classList.toggle("dark");
}

// Footer
const footer=document.createElement("div");
footer.id="footerText";
footer.style.cssText="position:fixed;bottom:20px;left:20px;background:var(--bg-overlay);padding:8px 12px;border-radius:8px;color:var(--text-color);font-weight:bold;font-size:14px;z-index:999;";
footer.textContent="VerificaciÃ³n de HWID/UUID torneo de mujeres";
document.body.appendChild(footer);

</script>
</body>
</html>
